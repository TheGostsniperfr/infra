apiVersion: ricoberger.de/v1alpha1
kind: VaultSecret
metadata:
  name: arffornia-proxy-secret
  namespace: arffornia-proxy-velocity
spec:
  path: secret/arffornia/proxy
  keys:
    - CFG_FORWARDING_SECRET

    - CFG_NUVOTIFIER_TOKEN
    
    - CFG_NUVOTIFIER_PRIVATE_KEY
    - CFG_NUVOTIFIER_PUBLIC_KEY
  type: Opaque
---
apiVersion: ricoberger.de/v1alpha1
kind: VaultSecret
metadata:
  name: luckperms-db-secret
  namespace: arffornia-proxy-velocity

spec:
  path: secret/postgres/luckperms
  keys:
    - username
    - password
  templates:
    CFG_LUCKPERMS_USER: "{% .Secrets.username %}"
    CFG_LUCKPERMS_PASS: "{% .Secrets.password %}"
  type: Opaque
---
apiVersion: ricoberger.de/v1alpha1
kind: VaultSecret
metadata:
  name: arffornia-svc-proxy-secret
  namespace: arffornia-proxy-velocity

spec:
  path: secret/arffornia/svc-proxy
  keys:
    - SVC_ID
    - SVC_PASSWORD

  templates:
    CFG_SVC_PROXY_CLIENT_ID: "{% .Secrets.SVC_ID %}"
    CFG_SVC_PROXY_CLIENT_SECRET: "{% .Secrets.SVC_PASSWORD %}"
  type: Opaque