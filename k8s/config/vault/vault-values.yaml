# https://github.com/hashicorp/vault-helm/blob/main/values.yaml
global:
  enabled: true
  tlsDisable: false

  injector:
    enabled: false

server:
  config : |
    disable_mlock = true
    ui = true
    
    listener "tcp" {
      tls_disable = 1
      address = "[::]:8200"
      cluster_address = "[::]:8201"
    }
    storage "raft" {
      path = "/vault/data"
    }

  dataStorage:
    enabled: true
    storageClass: "longhorn" 
    size: 10Gi

  auditStorage:
    enabled: true
    storageClass: "longhorn" 
    size: 10Gi

  ingress:
    enabled: true
    annotations:
      nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"
      cert-manager.io/cluster-issuer: default-issuer
    ingressClassName: public
    hosts:
      - host: vault.arffornia.com
        paths:
          - path: "/"
            pathType: Prefix
    tls:
      - hosts:
          - vault.arffornia.com
        secretName: vault-tls
