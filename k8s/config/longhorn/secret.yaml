apiVersion: ricoberger.de/v1alpha1
kind: VaultSecret
metadata:
  name: longhorn-s3-secret
  namespace: longhorn-system
spec:
  path: "secret/minio-s3/credentials"
  keys:
    - rootUser
    - rootPassword
  templates:
    AWS_ACCESS_KEY_ID: "{% .Secrets.rootUser %}"
    AWS_SECRET_ACCESS_KEY: "{% .Secrets.rootPassword %}"
    AWS_ENDPOINTS: "http://minio-s3.minio-s3.svc.cluster.local:9000"
  type: Opaque